"use strict";(globalThis["webpackChunkalga"]=globalThis["webpackChunkalga"]||[]).push([[681],{4681:(e,a,t)=>{t.r(a),t.d(a,{default:()=>C});var s=t(9835),l=t(6970);const n={class:"app-auth"},i=["innerHTML"],r=["innerHTML"],u={class:"app-auth__links tw-flex tw-flex-col tw-justify-center tw-gap-2 tw-mt-5"},p=["innerHTML"],o={class:"app-auth__subtitle"};function d(e,a,t,d,m,b){const c=(0,s.up)("AppInput"),h=(0,s.up)("AppButton"),w=(0,s.up)("Form"),_=(0,s.up)("AppLink"),g=(0,s.up)("AppStep"),f=(0,s.up)("FormVerify"),S=(0,s.up)("AuthCodeVerification"),W=(0,s.up)("i18n-t"),k=(0,s.up)("q-page");return(0,s.wg)(),(0,s.j4)(k,{class:"tw-container tw-grid"},{default:(0,s.w5)((()=>[(0,s._)("div",n,[(0,s.Wm)(g,{name:"input"},{default:(0,s.w5)((()=>[(0,s._)("h1",{class:"app-auth__h1",innerHTML:d.t("header")},null,8,i),(0,s._)("p",{class:"app-auth__subtitle",innerHTML:d.t("subtitle")},null,8,r),(0,s.Wm)(w,{class:"app-auth__form",onSubmit:d.submit},{default:(0,s.w5)((({isSubmitting:a})=>[(0,s.Wm)(c,{name:"email",rules:"required|email",type:"email",label:"E-mail",placeholder:"ivanov@domain.ru"}),(0,s.Wm)(h,{type:"submit",fullWidth:"",label:e.$t("actions.getCode"),disabled:a},null,8,["label","disabled"])])),_:1},8,["onSubmit"]),(0,s._)("div",u,[(0,s.Wm)(_,{class:"app-auth__link",to:{name:"auth.login"}},{default:(0,s.w5)((()=>[(0,s.Uk)((0,l.zw)(e.$t("actions.toLK")),1)])),_:1},8,["to"]),(0,s.Wm)(_,{class:"app-auth__link",to:{name:"auth.registr"}},{default:(0,s.w5)((()=>[(0,s.Uk)((0,l.zw)(e.$t("buttons.registr")),1)])),_:1},8,["to"])])])),_:1}),(0,s.Wm)(g,{name:"verifing"},{default:(0,s.w5)((()=>[(0,s.Wm)(f,{mail:d.mail,onEntered:d.handleCode},null,8,["mail","onEntered"])])),_:1}),(0,s.Wm)(g,{name:"password"},{default:(0,s.w5)((()=>[(0,s._)("h1",{class:"app-auth__h1",innerHTML:d.t("passHeader")},null,8,p),(0,s._)("p",o,(0,l.zw)(e.$t("passRequired")),1),(0,s.Wm)(w,{class:"app-auth__form",onSubmit:d.setPassword},{default:(0,s.w5)((({isSubmitting:a})=>[(0,s.Wm)(c,{name:"password",rules:"required",type:"password",label:e.$t("inputs.newPass"),placeholder:e.$t("inputs.password")},null,8,["label","placeholder"]),(0,s.Wm)(c,{name:"password2",rules:"required|confirmed:@password",type:"password",label:e.$t("inputs.repeatPass"),placeholder:e.$t("inputs.repeatPass")},null,8,["label","placeholder"]),d.invalidCode?((0,s.wg)(),(0,s.j4)(S,{key:0,cellphone:d.mail},null,8,["cellphone"])):(0,s.kq)("",!0),(0,s.Wm)(h,{type:"submit",fullWidth:"",label:e.$t("actions.setPass"),disabled:a},null,8,["label","disabled"])])),_:1},8,["onSubmit"]),(0,s.Wm)(W,{tag:"div",class:"app-auth__links tw-mt-6",keypath:"actions.hasAccount",scope:"global"},{login:(0,s.w5)((()=>[(0,s.Wm)(_,{to:{name:"auth.login"}},{default:(0,s.w5)((()=>[(0,s.Uk)((0,l.zw)(e.$t("buttons.logIn")),1)])),_:1},8,["to"])])),_:1})])),_:1})])])),_:1})}var m=t(3485),b=t(3038),c=t(496),h=t(8874),w=t(6647);const _={"ru-RU":{header:"Восстановление <br/> доступа",subtitle:"Восстановить доступ к системе с помощью <br/> мобильного телефона и смс-кода",passHeader:"Пароль сброшен. <br/> Установите новый пароль"},"en-US":{header:"Restoring <br/> access",subtitle:"Restore access to the system using <br/> a mobile phone and an SMS code",passHeader:"The password <br/> has been reset. <br/> Set a new password"},de:{header:"<br/> Zugriff wird wiederhergestellt",subtitle:"Stellen Sie den Zugriff auf das System mit <br/> einem Mobiltelefon und einem SMS-Code wieder her",passHeader:"Das Passwort <br/> wurde zurückgesetzt. <br/> Legen Sie ein neues Passwort fest"},"zh-CN":{header:"恢复<br/>访问",subtitle:"使用<br/>手机和短信代码恢复对系统的访问",passHeader:"密码<br/>已重置。 <br/> 设置新密码"}},g={setup(){const{t:e}=(0,w.QT)({messages:_}),{changeStep:a,step:t}=(0,m.Z)("input"),{curCode:s,mail:l,setPassword:n,getCode:i,invalidCode:r}=(0,b.Z)(),u=async({email:e})=>{await i({mail:e}),l.value=e,a("verifing")},p=e=>{s.value=e,a("password")};return{step:t,mail:l,invalidCode:r,t:e,submit:u,changeStep:a,handleCode:p,setPassword:n}},components:{FormVerify:c.Z,AuthCodeVerification:h.Z}};var f=t(1639),S=t(9885),W=t(9984),k=t.n(W);const v=(0,f.Z)(g,[["render",d]]),C=v;k()(g,"components",{QPage:S.Z})}}]);